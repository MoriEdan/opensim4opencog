
using Apache.Qpid.Buffer;
using System.Text;

namespace Apache.Qpid.Framing
{
  ///
  /// This class is autogenerated
  /// Do not modify.
  ///
  /// @author Code Generator Script by robert.j.greig@jpmorgan.com
  public class ConnectionCloseBody : AMQMethodBody , IEncodableAMQDataBlock
  {
    public const int CLASS_ID = 10; 	
    public const int METHOD_ID = 60; 	

    public ushort ReplyCode;    
    public string ReplyText;    
    public ushort ClassId;    
    public ushort MethodId;    
     

    protected override ushort Clazz
    {
        get
        {
            return 10;
        }
    }
   
    protected override ushort Method
    {
        get
        {
            return 60;
        }
    }

    protected override uint BodySize
    {
    get
    {
        
        return (uint)
        2 /*ReplyCode*/+
            (uint)EncodingUtils.EncodedShortStringLength(ReplyText)+
            2 /*ClassId*/+
            2 /*MethodId*/		 
        ;
         
    }
    }

    protected override void WriteMethodPayload(ByteBuffer buffer)
    {
        buffer.Put(ReplyCode);
            EncodingUtils.WriteShortStringBytes(buffer, ReplyText);
            buffer.Put(ClassId);
            buffer.Put(MethodId);
            		 
    }

    protected override void PopulateMethodBodyFromBuffer(ByteBuffer buffer)
    {
        ReplyCode = buffer.GetUInt16();
        ReplyText = EncodingUtils.ReadShortString(buffer);
        ClassId = buffer.GetUInt16();
        MethodId = buffer.GetUInt16();
        		 
    }

    public override string ToString()
    {
        StringBuilder buf = new StringBuilder(base.ToString());
        buf.Append(" ReplyCode: ").Append(ReplyCode);
        buf.Append(" ReplyText: ").Append(ReplyText);
        buf.Append(" ClassId: ").Append(ClassId);
        buf.Append(" MethodId: ").Append(MethodId);
         
        return buf.ToString();
    }

    public static AMQFrame CreateAMQFrame(ushort channelId, ushort ReplyCode, string ReplyText, ushort ClassId, ushort MethodId)
    {
        ConnectionCloseBody body = new ConnectionCloseBody();
        body.ReplyCode = ReplyCode;
        body.ReplyText = ReplyText;
        body.ClassId = ClassId;
        body.MethodId = MethodId;
        		 
        AMQFrame frame = new AMQFrame();
        frame.Channel = channelId;
        frame.BodyFrame = body;
        return frame;
    }
} 
}
