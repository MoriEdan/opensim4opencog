
using Apache.Qpid.Buffer;
using System.Text;

namespace Apache.Qpid.Framing
{
  ///
  /// This class is autogenerated
  /// Do not modify.
  ///
  /// @author Code Generator Script by robert.j.greig@jpmorgan.com
  public class ConnectionStartOkBody : AMQMethodBody , IEncodableAMQDataBlock
  {
    public const int CLASS_ID = 10; 	
    public const int METHOD_ID = 11; 	

    public FieldTable ClientProperties;    
    public string Mechanism;    
    public byte[] Response;    
    public string Locale;    
     

    protected override ushort Clazz
    {
        get
        {
            return 10;
        }
    }
   
    protected override ushort Method
    {
        get
        {
            return 11;
        }
    }

    protected override uint BodySize
    {
    get
    {
        
        return (uint)
        (uint)EncodingUtils.EncodedFieldTableLength(ClientProperties)+
            (uint)EncodingUtils.EncodedShortStringLength(Mechanism)+
            4 + (uint) (Response == null ? 0 : Response.Length)+
            (uint)EncodingUtils.EncodedShortStringLength(Locale)		 
        ;
         
    }
    }

    protected override void WriteMethodPayload(ByteBuffer buffer)
    {
        EncodingUtils.WriteFieldTableBytes(buffer, ClientProperties);
            EncodingUtils.WriteShortStringBytes(buffer, Mechanism);
            EncodingUtils.WriteLongstr(buffer, Response);
            EncodingUtils.WriteShortStringBytes(buffer, Locale);
            		 
    }

    protected override void PopulateMethodBodyFromBuffer(ByteBuffer buffer)
    {
        ClientProperties = EncodingUtils.ReadFieldTable(buffer);
        Mechanism = EncodingUtils.ReadShortString(buffer);
        Response = EncodingUtils.ReadLongstr(buffer);
        Locale = EncodingUtils.ReadShortString(buffer);
        		 
    }

    public override string ToString()
    {
        StringBuilder buf = new StringBuilder(base.ToString());
        buf.Append(" ClientProperties: ").Append(ClientProperties);
        buf.Append(" Mechanism: ").Append(Mechanism);
        buf.Append(" Response: ").Append(Response);
        buf.Append(" Locale: ").Append(Locale);
         
        return buf.ToString();
    }

    public static AMQFrame CreateAMQFrame(ushort channelId, FieldTable ClientProperties, string Mechanism, byte[] Response, string Locale)
    {
        ConnectionStartOkBody body = new ConnectionStartOkBody();
        body.ClientProperties = ClientProperties;
        body.Mechanism = Mechanism;
        body.Response = Response;
        body.Locale = Locale;
        		 
        AMQFrame frame = new AMQFrame();
        frame.Channel = channelId;
        frame.BodyFrame = body;
        return frame;
    }
} 
}
